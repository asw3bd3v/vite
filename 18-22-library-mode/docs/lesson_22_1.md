# Публикация пакета в NPM репозитории

Поправим ключ name в package.json и добавим ключ files:

```json
{
    "name": "@asw3bd3v/pluck",
    "files": [
		"dist"
	],
    // private: true, // удаляем

    // указываем зависимости которые нужно установить для работы нашей библиотеки
    "peerDependencies": {
		"collect.js": "^4.36.1"
	}
}
```

А также удалим "private": true.

На данный момент мы импортируем функционал библиотеки из локальной версии за счет выполнения команды npm link pluck в корне клиентского приложения.

Если библиотеку разместить в npm-репозитории, то в этом случае не нужно выполнять команду link.

Выполним команду npm login в папке lib. Указываем имя пользователя и пароль, либо авторизовываемся через браузер.

```
npm login
```

После авторизации пробуем опубликовать пакет.

```
npm publish --access public
```

Для изменения версии используем команду (нужно при повторной публикации)

```
npm version patch
npm version minor
npm version major
```

Удаляем collect.js, если он имеется в клиентском приложении и папку .vite.

```
npm uninstall collect.js
```

После этого в клиентском приложении попробуем установить пакет:

```
npm i @asw3bd3v/pluck
```

В main.js меняем импорты:
```js
// app/main.js
import { pluckAndLog } from "@asw3bd3v/pluck";
import { log } from "@asw3bd3v/pluck/log";
```